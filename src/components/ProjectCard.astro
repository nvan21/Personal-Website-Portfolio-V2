---
import type { CollectionEntry } from "astro:content";
import { Icon } from "astro-icon/components";

interface Props {
  project: CollectionEntry<"projects">;
}

const { project } = Astro.props;
---

<div class="group relative block">
  <!-- Main link to the Case Study Page -->
  <a
    href={project.data.githubUrl}
    target="_blank"
    class="block overflow-hidden rounded-lg border border-slate-800 bg-slate-800/50 shadow-lg transition-all hover:border-slate-700 hover:shadow-slate-500/50"
  >
    <img
      src={project.data.image}
      alt={`Screenshot of ${project.data.title}`}
      class="aspect-video w-full object-cover"
    />
    <div class="p-6">
      <h3 class="text-header text-xl font-bold">{project.data.title}</h3>
      <p class="text-body mt-2">{project.data.pitch}</p>
      <div class="mt-4 flex flex-wrap gap-2">
        {
          project.data.skills.map((skill) => (
            <div class="rounded-full bg-slate-700 px-3 py-1 text-xs font-semibold text-slate-200">
              {skill}
            </div>
          ))
        }
      </div>
    </div>
    <!-- GitHub Icon -->
    {
      project.data.githubUrl && (
        <div
          class="absolute top-4 right-4 rounded-full bg-slate-800/80 p-2 text-slate-300 backdrop-blur-sm"
          aria-label="View source code on GitHub"
        >
          <Icon name="mdi:github" class="h-5 w-5" />
        </div>
      )
    }
  </a>
</div>
